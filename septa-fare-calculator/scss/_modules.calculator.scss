/* ===========================================================
   SEPTA CALCULATOR
=========================================================== */

/* Styles for the Septa Fare Calculator module. */

.tb-module.septa-calculator {
   @include boxsize; 
   width: 100%;
   max-width: 640px;
   background: $c-white;
   border: 4px $c-gray solid;
   text-align: center; 

   &.aligncenter {
      margin-top: 30px;
      margin-bottom: 30px;

      @include bp($XS) {
         margin-top: 10px;
         margin-bottom: 10px;
      }
   }

   h3 {
      padding: 20px 10px;
      background: $c-gray-dark;
      font: bold 42px/46px $f-default;
      color: $c-white; 

      span {
         display: inline-block;
         padding-left: 90px;
         background: url(../img/septa-logo.svg) no-repeat 0 0;
         background-size: auto 46px;
      }

      @include bp($S) {
         font: bold 30px/36px $f-default;

         span {
            padding-left: 60px;
            background-size: auto 36px;
         }
      }

      @include bp($XS) {
         font: bold 20px/24px $f-default;

         span {
            padding-left: 40px;
            background-size: auto 24px;
         }
      }
   }

   .tb-form-section {
      padding: 40px 35px;

      @include bp($XS) {
         padding: 15px 10px;
      }

      &+.tb-form-section {
         padding: 30px 35px 40px;
         border-top: 1px #e6e6e6 solid;

         @include bp($XS) {
            padding: 15px 15px 20px;
         }
      }

      label, legend {
         display: block;
         margin-bottom: 20px;
      }

      input {
         @include boxsize;
         width: 100%;
         max-width: 200px;
         padding: 18px 20px 20px;
         background: $c-white;
         border: 1px #bfbfbf solid;
         border-radius: 5px !important;
         font-weight: 100;
         color: $text;
         text-align: center;

         &:disabled {
            background: #e5e5e5;
            opacity: 1;
         }

         @include bp($XS) {
            padding: 13px 15px 15px;
         }
      }

      .select-wrapper {
         position: relative;

         &:after {
            @include pseudo;
            position: absolute;
            top: 50%;
            right: 25px;
            margin-top: -7px;
            width: 0;
            height: 0;
            border-style: solid;
            border-width: 15px 12.5px 0 12.5px;
            border-color: #737373 transparent transparent transparent;

            @include bp($XS) {
               right: 15px;
               border-width: 10px 7.5px 0 7.5px;
               margin-top: -5px;
            }
         }
      }

      select {
         @include vendorize(appearance, none !important);
         @include boxsize;
         width: 100%;
         padding: 18px 60px 20px 20px;
         background: $c-white;
         border: 1px #bfbfbf solid;
         border-radius: 5px !important;
         font-weight: 100;
         color: $text;
         cursor: pointer;
         text-indent: 0.01px !important;
         text-overflow: '' !important;
         
         @include bp($XS) {
            padding: 13px 32px 15px 15px;
         }
      }

      select::-ms-expand {
         display: none;
      }

      fieldset {
         border: 0;
         margin: 0;
         padding: 0;

         .tb-radio-wrap {
            display: inline-block;
            text-align: left;

            div+div {
               margin-top: 10px;
            }
         }

         label {
            display: inline-block;
            margin: 0;
            font-weight: 100;
            cursor: pointer;
         }

         input[type="radio"] {
            display: none;
         }

         input[type="radio"] + label span {
            @include boxsize;
            display: inline-block;
            width: 30px;
            height: 30px;
            margin: -3px 15px 0 0;
            vertical-align: middle;
            cursor: pointer;
            background: $c-white;
            border-radius: 50%;
            border: 2px #a7a7a7 solid;
            
            &:before {
               @include pseudo;
               margin: 3px;
               width: 20px;
               height: 20px;
               background: transparent;
               border-radius: 50%;
            }

            @include bp($XS) {
               width: 20px;
               height: 20px;

               &:before {
                  width: 10px;
                  height: 10px;
               }
            }
         }

         input[type="radio"]:checked + label span {
            &:before {
               background: #2873c3;
               background: -moz-linear-gradient(top,  #2873c3 0%, #7db9e8 0%, #3f98f5 100%);
               background: -webkit-linear-gradient(top,  #2873c3 0%,#7db9e8 0%,#3f98f5 100%);
               background: linear-gradient(to bottom,  #2873c3 0%,#7db9e8 0%,#3f98f5 100%);
               filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#2873c3', endColorstr='#3f98f5',GradientType=0 );
            }
         }

         .disabled {
            opacity: 0.5;
            cursor: default;

            input[type="radio"] + label span,
            label {
               cursor: default;
            }
         }
      }

      .tb-field-description {
         margin-top: 20px;
         font-size: 22px;
         line-height: 26px;
         font-weight: 100;
         color: #808080;

         @include bp($S) {
            font-size: 18px;
            line-height: 22px;
         }

         @include bp($XS) {
            font-size: 15px;
            line-height: 20px;
         }
      }
   }

   .tb-form-results {
      padding: 35px 0;
      background: $c-gray-dark;
      color: $c-white;

      p#result {
         margin-top: 15px;
         font-size: 90px;
         line-height: 90px;
         font-weight: bold;
      }

      @include bp($XS) {
         padding: 20px 0;

         p#result {
            font-size: 60px;
            line-height: 60px;
         }
      }

      @include bp($XXS) {
         p#result {
            font-size: 50px;
            line-height: 50px;
         }
      }
   }
}

.zone-map {
   display: none;
   position: fixed;
   top: 0;
   left: 0;
   right: 0;
   bottom: 0;
   height: 100%;
   background: rgba(0, 0, 0, 0.75);
   cursor: pointer;

   &.active {
      display: block;
   }

   span.map-toggle {
      position: absolute;
      top: 10px;
      right: 10px;
      font-size: 25px;
      line-height: 25px;
      color: $c-white;
      cursor: pointer;

      &:hover {
         color: $c-red;
      }
   }

   img {
      display: block;
      max-width: 90%;
      max-height: 90%;
      width: auto;
      height: auto;
      margin: 0 auto;
      cursor: default;
      @include valign;
   }
}