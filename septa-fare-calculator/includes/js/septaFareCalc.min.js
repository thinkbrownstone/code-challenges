function get_checked_value(){for(var e=$("input[name=fareCalcWhere]"),t=0;t<e.length;t++)if(e[t].checked)return $(e[t]).val()}function calculate_fare(e,t){var r=e.zones,n=get_current_zone(r,t.zone),a=n.fares,o=get_current_price(a,t.where,t.type,t.rides);$("#septa-total").html(format_price(o))}function format_price(e){var t=e.toString().split(".");return 1===t.length?t[0]+".00":1===t[1].split("").length?t[0]+"."+t[1]+"0":e}function get_current_price(e,t,r,n){for(var a=0;a<e.length;a++)if(e[a].purchase===t&&e[a].type===r)return 10===parseInt(n)&&document.getElementById("stationKiosk").checked?e[a].price:e[a].price*n}function error(e){window.scrollTo(0,0),$(".innerError").html(e),$("#error").animate({opacity:1},2e3,function(){setTimeout(function(){$("#error").animate({opacity:0},2e3,function(){$(".innerError").html("")})},2e3)})}function get_current_zone(e,t){for(var r=0;r<e.length;r++)if(parseInt(e[r].zone)===parseInt(t))return e[r]}$(document).ready(function(){$("#fares").on("input change",function(){parseInt($(this).val())}),$(".fareCalcField").on("change blur",function(){var e=$("#fares").val(),t=$("#fareCalcWhen").val();10===parseInt(e)&&document.getElementById("stationKiosk").checked&&(t="anytime");var r={zone:$("#septa-going").val(),type:t,where:get_checked_value(),rides:e};parseInt(e)>0?$.ajax({type:"GET",url:"includes/js/septaFareCalcJSON.json",statusCode:{400:function(){error("That did not work.")},501:function(){error("That did not work.")},200:function(e){calculate_fare(e,r)}},failure:function(){error()}}):$("#septa-total").html("0.00")}),$(".fareCalcRadioButton").on("change",function(){var e=$(this).val();$.ajax({type:"GET",url:"includes/js/septaFareCalcJSON.json",statusCode:{400:function(){error("That did not work.")},501:function(){error("That did not work.")},200:function(t){$("#infoWhere").html(t.info[e])}},failure:function(){error()}})})});